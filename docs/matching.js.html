<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Lurch Deductive Engine: matching.js</title>
    
      <link type="text/css" rel="stylesheet" href="styles/vendor/prism-default.css">
    
    <link type="text/css" rel="stylesheet" href="styles/styles.css">
    
</head>
<body>

<header class="layout-header">
  
  <h1>
    <a href="./index.html">
      Lurch Deductive Engine
    </a>
  </h1>
  <nav class="layout-nav">
    <ul><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class" title="class">C</span><span class="nav-item-name is-class"><a href="Application.html">Application</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Application.html#operands">operands</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Application.html#operator">operator</a></span></li><li class="nav-heading"><span class="nav-item-type type-class" title="class">C</span><span class="nav-item-name is-class"><a href="Binding.html">Binding</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Binding.html#binds">binds</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Binding.html#body">body</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Binding.html#boundVariableNames">boundVariableNames</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Binding.html#boundVariables">boundVariables</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Binding.html#head">head</a></span></li><li class="nav-heading"><span class="nav-item-type type-class" title="class">C</span><span class="nav-item-name is-class"><a href="Connection.html">Connection</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="Connection.html#IDs">IDs</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Connection.html#.create">create</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Connection.html#.transferConnections">transferConnections</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Connection.html#.withID">withID</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Connection.html#attr">attr</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Connection.html#clearAttributes">clearAttributes</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Connection.html#getAttribute">getAttribute</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Connection.html#getAttributeKeys">getAttributeKeys</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Connection.html#handleIDChange">handleIDChange</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Connection.html#hasAttribute">hasAttribute</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Connection.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Connection.html#setAttribute">setAttribute</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Connection.html#source">source</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Connection.html#target">target</a></span></li><li class="nav-heading"><span class="nav-item-type type-class" title="class">C</span><span class="nav-item-name is-class"><a href="Declaration.html">Declaration</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="Declaration.html#Constant">Constant</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="Declaration.html#Types">Types</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="Declaration.html#Variable">Variable</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Declaration.html#copy">copy</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Declaration.html#expression">expression</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Declaration.html#symbols">symbols</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Declaration.html#type">type</a></span></li><li class="nav-heading"><span class="nav-item-type type-class" title="class">C</span><span class="nav-item-name is-class"><a href="Environment.html">Environment</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Environment.html#conclusions">conclusions</a></span></li><li class="nav-heading"><span class="nav-item-type type-class" title="class">C</span><span class="nav-item-name is-class"><a href="Expression.html">Expression</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Expression.html#getOutermost">getOutermost</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Expression.html#isAConclusionIn">isAConclusionIn</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Expression.html#isOutermost">isOutermost</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Expression.html#value">value</a></span></li><li class="nav-heading"><span class="nav-item-type type-class" title="class">C</span><span class="nav-item-name is-class"><a href="Formula.html">Formula</a></span></li><li class="nav-heading"><span class="nav-item-type type-class" title="class">C</span><span class="nav-item-name is-class"><a href="JSON.html">JSON</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="JSON.html#.copy">copy</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="JSON.html#.equals">equals</a></span></li><li class="nav-heading"><span class="nav-item-type type-class" title="class">C</span><span class="nav-item-name is-class"><a href="LogicConcept.html">LogicConcept</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="LogicConcept.html#.fromPutdown">fromPutdown</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="LogicConcept.html#enableFeedback">enableFeedback</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="LogicConcept.html#feedback">feedback</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="LogicConcept.html#markDirty">markDirty</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="LogicConcept.html#origin">origin</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="LogicConcept.html#toPutdown">toPutdown</a></span></li><li class="nav-heading"><span class="nav-item-type type-class" title="class">C</span><span class="nav-item-name is-class"><a href="MathConcept.html">MathConcept</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="MathConcept.html#className">className</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="MathConcept.html#IDs">IDs</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="MathConcept.html#subclasses">subclasses</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#.addSubclass">addSubclass</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#.feedback">feedback</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#.fromJSON">fromJSON</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#.instanceWithID">instanceWithID</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#accessibles">accessibles</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#accessiblesIterator">accessiblesIterator</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#address">address</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#allButFirstChild">allButFirstChild</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#allButLastChild">allButLastChild</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#ancestors">ancestors</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#ancestorsIterator">ancestorsIterator</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#ancestorsSatisfying">ancestorsSatisfying</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#asA">asA</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#attr">attr</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#changeID">changeID</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#child">child</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#children">children</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#childrenSatisfying">childrenSatisfying</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#clearAttributes">clearAttributes</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#clearIDs">clearIDs</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#connectTo">connectTo</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#copy">copy</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#descendantsIterator">descendantsIterator</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#descendantsSatisfying">descendantsSatisfying</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#equals">equals</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#feedback">feedback</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#firstChild">firstChild</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#freeIdentifierNames">freeIdentifierNames</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#getAttribute">getAttribute</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#getAttributeKeys">getAttributeKeys</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#getConnectionIDs">getConnectionIDs</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#getConnectionIDsIn">getConnectionIDsIn</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#getConnectionIDsOut">getConnectionIDsOut</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#getConnections">getConnections</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#getConnectionsIn">getConnectionsIn</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#getConnectionsOut">getConnectionsOut</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#hasAncestorSatisfying">hasAncestorSatisfying</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#hasAttribute">hasAttribute</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#hasChildSatisfying">hasChildSatisfying</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#hasDescendantSatisfying">hasDescendantSatisfying</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#ID">ID</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#idIsTracked">idIsTracked</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#index">index</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#indexInParent">indexInParent</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#insertChild">insertChild</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#interpretation">interpretation</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#isA">isA</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#isAccessibleTo">isAccessibleTo</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#isAtomic">isAtomic</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#isDirty">isDirty</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#isEarlierThan">isEarlierThan</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#isFree">isFree</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#isFreeToReplace">isFreeToReplace</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#isInTheScopeOf">isInTheScopeOf</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#isLaterThan">isLaterThan</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#lastChild">lastChild</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#makeIntoA">makeIntoA</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#markDirty">markDirty</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#nextInTree">nextInTree</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#nextSibling">nextSibling</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#numChildren">numChildren</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#occursFree">occursFree</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#parent">parent</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#popChild">popChild</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#preOrderIterator">preOrderIterator</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#preOrderTraversal">preOrderTraversal</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#previousInTree">previousInTree</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#previousSibling">previousSibling</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#pushChild">pushChild</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#remove">remove</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#removeChild">removeChild</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#removeConnections">removeConnections</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#replaceFree">replaceFree</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#replaceWith">replaceWith</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#scope">scope</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#scopeIterator">scopeIterator</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#setAttribute">setAttribute</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#setChildren">setChildren</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#setID">setID</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#shiftChild">shiftChild</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#toJSON">toJSON</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#toString">toString</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#trackConnections">trackConnections</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#trackIDs">trackIDs</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#transferConnectionsTo">transferConnectionsTo</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#unmakeIntoA">unmakeIntoA</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#unshiftChild">unshiftChild</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="MathConcept.html#untrackIDs">untrackIDs</a></span></li><li class="nav-item"><span class="nav-item-type type-event" title="event">E</span><span class="nav-item-name is-event"><a href="MathConcept.html#event:wasChanged">wasChanged</a></span></li><li class="nav-item"><span class="nav-item-type type-event" title="event">E</span><span class="nav-item-name is-event"><a href="MathConcept.html#event:wasInserted">wasInserted</a></span></li><li class="nav-item"><span class="nav-item-type type-event" title="event">E</span><span class="nav-item-name is-event"><a href="MathConcept.html#event:wasRemoved">wasRemoved</a></span></li><li class="nav-item"><span class="nav-item-type type-event" title="event">E</span><span class="nav-item-name is-event"><a href="MathConcept.html#event:willBeChanged">willBeChanged</a></span></li><li class="nav-item"><span class="nav-item-type type-event" title="event">E</span><span class="nav-item-name is-event"><a href="MathConcept.html#event:willBeInserted">willBeInserted</a></span></li><li class="nav-item"><span class="nav-item-type type-event" title="event">E</span><span class="nav-item-name is-event"><a href="MathConcept.html#event:willBeRemoved">willBeRemoved</a></span></li><li class="nav-heading"><span class="nav-item-type type-class" title="class">C</span><span class="nav-item-name is-class"><a href="Symbol.html">Symbol</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Symbol.html#insertChild">insertChild</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Symbol.html#text">text</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Symbol.html#toString">toString</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Symbol.html#value">value</a></span></li></ul><ul><li class="nav-heading">Namespaces</li><li class="nav-heading"><span class="nav-item-type type-namespace" title="namespace">N</span><span class="nav-item-name is-namespace"><a href="Matching.html">Matching</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.application">application</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.binding">binding</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.bindingBody">bindingBody</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.bindingHead">bindingHead</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.bindingVariables">bindingVariables</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.clearMetavariable">clearMetavariable</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.copy">copy</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.equal">equal</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.filterSubexpressions">filterSubexpressions</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.getChildren">getChildren</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.getVariableName">getVariableName</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.isApplication">isApplication</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.isBinding">isBinding</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.isExpression">isExpression</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.isMetavariable">isMetavariable</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.isVariable">isVariable</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.replace">replace</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.sameType">sameType</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.setMetavariable">setMetavariable</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.symbol">symbol</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.variable">variable</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Matching.html#.variableIsFree">variableIsFree</a></span></li></ul><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="global.html#predictableStringify">predictableStringify</a></span></li>
  </nav>
</header>


<main class="layout-main  layout-content--source">
  <div class="container">
    <p class="page-kind">source</p>
    <h1 class="page-title">matching.js</h1>
    



    

<section>
    <article>
        <pre id="source" class="source-page line-numbers"><code class="language-js">
import { Expression } from './expression.js'
import { Application } from './application.js'
import { Binding } from './binding.js'
import { Symbol } from './symbol.js'
import { setAPI, makeExpressionFunction, makeExpressionFunctionApplication,
    Constraint, ConstraintList, MatchingChallenge
} from '../node_modules/second-order-matching/src/matching-without-om.js'

// The following function call teaches the second-order-matching module
// imported from npm the specific expression API used in this repository.

/**
 * The matching module we [import from npm](https://www.npmjs.com/package/second-order-matching)
 * requires us to specify how it should interact with the mathematical
 * expressions in the client project.  We make a call to the matching module's
 * `setAPI()` function and provide it with all the tools it needs to interface
 * with {@link LogicConcept LogicConcept} instances.  We document in this
 * namespace all those tools.
 * 
 * @namespace Matching
 */

setAPI( {

    /**
     * How can the matching module tell what an expression is?
     * In the LDE, it's any instance of the {@link Expression Expression}
     * class.
     * 
     * @memberof Matching
     * @param {*} object - any type of input, to be tested for whether it is
     *   an expression, in the LDE's sense of that term
     * @returns {boolean} whether the input is an expression
     */
    isExpression : object => object instanceof Expression,

    /**
     * How can the matching module get a list of all subexpressions of a given
     * expression that satisfy a certain predicate?  We use the
     * {@link MathConcept#descendantsSatisfying descendantsSatisfying()}
     * function for this purpose.
     * 
     * @memberof Matching
     * @param {Expression} expression - the expression whose descendants should
     *   be searched
     * @param filter - a function that takes {@link Expression Expression}
     *   instances as inputs and yields boolean outputs
     * @returns {Expression[]} a JavaScript array of all descendants satisfying
     *   the given predicate
     */
    filterSubexpressions : ( expression, filter ) =>
        expression.descendantsSatisfying( filter ),
    
    /**
     * How can the matching module tell when two expressions have the same
     * type?  We check to ensure they have the same class (e.g.,
     * {@link Symbol Symbol}, {@link Application Application}, etc.).
     * 
     * @memberof Matching
     * @param {Expression} expression1 - the first expression to compare
     * @param {Expression} expression2 - the second expression to compare
     * @returns {boolean} whether the two expressions have the same type
     */
    sameType : ( expression1, expression2 ) =>
        expression1.constructor.className == expression2.constructor.className,
    
    /**
     * How can the matching module make a deep copy of an expression?
     * The {@link MathConcept MathConcept} class has a built-in
     * {@link MathConcept#copy copy()} function for this purpose.
     * 
     * @memberof Matching
     * @param {Expression} expression - the expression to deep copy
     * @returns {Expression} a deep copy
     */
    copy : expression => expression.copy(),

    /**
     * How can the matching module test two expressions for deep structural
     * equality?  The {@link MathConcept MathConcept} class has a built-in
     * {@link MathConcept#equals equals()} function for this purpose.
     * 
     * @memberof Matching
     * @param {Expression} expression1 - the first expression to compare
     * @param {Expression} expression2 - the second expression to compare
     * @returns {boolean} whether the two expressions are equal as tree
     *   structures
     */
    equal : ( expression1, expression2 ) => expression1.equals( expression2 ),
    
    /**
     * How can the matching module replace any expression in its parent context
     * with another expression?  The {@link MathConcept MathConcept} class has
     * a built-in {@link MathConcept#replaceWith replaceWith()} function for
     * this purpose.
     * 
     * @memberof Matching
     * @param {Expression} toReplace - the expression to replace, in its parent
     *   context, with another expression
     * @param {Expression} withThis - the expression to replace the other with
     */
    replace : ( toReplace, withThis ) => toReplace.replaceWith( withThis ),

    /**
     * How can the matching module tell when an expression is a variable?
     * The LDE does not distinguish constants from variables internally, so we
     * will artificially prefix any {@link Symbol Symbol} that the matching
     * module wants to call a "symbol" with the prefix `"symbol: "` and use
     * that as an indicator.
     * 
     * See {@link Matching.symbol symbol()} further below for details.
     * 
     * @memberof Matching
     * @param {Expression} expression - the expression to test for whether it
     *   is a variable
     * @returns {boolean} whether the expression is a variable
     */
    isVariable : expression => expression instanceof Symbol
                            &amp;&amp; !expression.text().startsWith( 'symbol: ' ),
    
    /**
     * Given a variable, how can the matching module fetch its name?
     * The {@link Symbol Symbol} class provides a {@link Symbol#text text()}
     * function for exactly this purpose.
     * 
     * @memberof Matching
     * @param {Expression} expression - the variable whose name we need
     * @returns {string} the name of the variable
     */
    getVariableName : expression => expression.text(),

    /**
     * How can the matching module construct a variable with a given name?
     * We use the {@link Symbol Symbol} class to store both what the matching
     * module calls "variables" and what it calls "symbols," but we store
     * variables with whatever name is requested, whereas we store symbols with
     * the prefix `"symbol: "` in front of their name, to distinguish them from
     * variables.
     * 
     * While there is a small chance that this could cause ambiguity if you
     * have a variable whose name literally begins with the text `"symbol: "`,
     * that event is unlikely in the extreme, and a bad idea anyway.
     * 
     * @memberof Matching
     * @param {string} text - the name to use for the variable being created
     * @returns {Symbol} an instance of the {@link Symbol Symbol} class, the
     *   variable that was created
     */
    variable : text => new Symbol( text ),

    /**
     * How can the matching module construct a variable with a given name?
     * We use the {@link Symbol Symbol} class to store both what the matching
     * module calls "variables" and what it calls "symbols," but we store
     * variables with whatever name is requested, whereas we store symbols with
     * the prefix `"symbol: "` in front of their name, to distinguish them from
     * variables.
     * 
     * While there is a small chance that this could cause ambiguity if you
     * have a variable whose name literally begins with the text `"symbol: "`,
     * that event is unlikely in the extreme, and a bad idea anyway.
     * 
     * @memberof Matching
     * @param {string} text - the name to use for the symbol being created;
     *   this text will be prefixed with `"symbol: "`
     * @returns {Symbol} an instance of the {@link Symbol Symbol} class, the
     *   symbol that was created
     */
    symbol : text => new Symbol( `symbol: ${text}` ),

    /**
     * How can the matching module tell when an expression is the application
     * of a function or operator?  The LDE has a class,
     * {@link Application Application}, for exactly this purpose; we just check
     * to see if the object is an instance of that class.
     * 
     * @memberof Matching
     * @param {Expression} expression - the expression to test for whether it
     *   is an application
     * @returns {boolean} whether the expression is an application
     */
    isApplication : expression => expression instanceof Application,

    /**
     * How can the matching module construct a function application with a
     * given set of expressions to use as children?  (By convention, the first
     * is the operator/function being applied, and the rest are its arguments,
     * in order.)  We simply call the {@link Application Application}
     * constructor.
     * 
     * Note that all children provided in the first argument will be deep
     * copied, because the matching module expects and relies upon that
     * behavior.  It is not possible, using this function, to move/share
     * subexpressions between expressions.
     * 
     * @memberof Matching
     * @param {Expression[]} children - a JavaScript array of the child
     *   expressions, in the order described above
     * @returns {Application} an instance of the
     *   {@link Application Application} class, which this function creates
     */
    application : children =>
        new Application( ...children.map( c => c.copy() ) ),

    /**
     * How can the matching module query the list of children expression of a
     * given expression?  The {@link MathConcept MathConcept} class provides
     * the {@link MathConcept#children children()} function for this purpose.
     * 
     * A few notes about it:
     * 
     *  * An {@link Application Application}'s children are returned in the
     *    order explained {@link Matching.application here}.
     *  * A {@link Binding Binding}'s children are its head, then its list of
     *    bound variables ({@link Symbol Symbol} instances), in order, then its
     *    body.
     *  * An atomic expression will have an empty children list.
     * 
     * @memberof Matching
     * @param {Expression} expression - the expression whose children are
     *   being requested
     * @returns {Expression[]} the JavaScript array of all children of this
     *   expression
     */
    getChildren : expression => expression.children(),

    /**
     * How can the matching module tell when an expression is a binding
     * expression?  The LDE has a class, {@link Binding Binding}, for exactly
     * this purpose; we just check to see if the object is an instance of that
     * class.
     * 
     * @memberof Matching
     * @param {Expression} expression - the expression to test for whether it
     *   is a binding
     * @returns {boolean} whether the expression is a binding
     */
    isBinding : expression => expression instanceof Binding,

    /**
     * How can the matching module construct a binding expression with a
     * given head, variable list, and body?  We simply call the
     * {@link Binding Binding} constructor.
     * 
     * Note that all children provided in the arguments will be deep copied,
     * because the matching module expects and relies upon that behavior.  It
     * is not possible, using this function, to move/share subexpressions
     * between expressions.
     * 
     * @memberof Matching
     * @param {Expression} symbol - the head of the binding, which is often a
     *   symbol, but can also be a compound expression
     * @param {Symbol[]} variables - a JavaScript array of the variables to be
     *   bound by the expression created (or one single variable that will be
     *   placed into an array)
     * @param {Expression} body - the body of the new binding to be created
     * @returns {Binding} an instance of the {@link Binding Binding} class,
     *   which this function creates
     */
    binding : ( symbol, variables, body ) => new Binding(
        symbol.copy(), ...variables.map( v => v.copy() ), body.copy() ),

    /**
     * How can the matching module query the head symbol or expression in a
     * binding expression?  We give it access to the built-in
     * {@link Binding#head head()} function in the {@link Binding Binding}
     * class.
     * 
     * @memberof Matching
     * @param {Binding} binding - the binding expression whose head is to be
     *   retrieved
     * @returns {Expression} the head of the given binding expression, which is
     *   often a {@link Symbol Symbol} instance, but may be a compound
     *   expression
     */
    bindingHead : binding => binding.head(),

    /**
     * How can the matching module query the list of bound variables in a
     * binding expression?  We give it access to the built-in
     * {@link Binding#boundVariables boundVariables()} function in the
     * {@link Binding Binding} class.  Note that these are the actual
     * {@link Symbol Symbol} instances, not their names.
     * 
     * @memberof Matching
     * @param {Binding} binding - the binding expression whose list of bound
     *   variables is to be retrieved
     * @returns {Symbol[]} the bound variables in the binding expression
     *   (the actual instances, not copies, and not just the names as text)
     */
    bindingVariables : binding => binding.boundVariables(),

    /**
     * How can the matching module query the body of a binding expression?
     * We give it access to the built-in {@link Binding#body body()} function
     * in the {@link Binding Binding} class.
     * 
     * @memberof Matching
     * @param {Binding} binding - the binding expression whose body is to be
     *   retrieved
     * @returns {Expression} the body of the given binding expression
     */
    bindingBody : binding => binding.body(),

    /**
     * How can the matching module tell whether a particular instance of a
     * variable is free in a given ancestor expression?  We give it access to
     * the built-in {@link MathConcept#isFree isFree()} function in the
     * {@link MathConcept MathConcept} class.
     * 
     * @memberof Matching
     * @param {Symbol} variable - the variable to test for freeness; note that
     *   this is an actual {@link Symbol Symbol} instance whose ancestor
     *   context is relevant to this function, not just the name or another
     *   copy of the same variable
     * @param {Expression} [expression] - optional ancestor context in which to
     *   test for freeness; if this is provided, only bindings within this
     *   ancestor are relevant, but if it is omitted, all ancestor bindings are
     *   relevant
     * @returns {boolean} whether the given variable is free in the given
     *   ancestor expression (or its topmost ancestor if no ancestor expression
     *   is provided)
     */
    variableIsFree : ( variable, expression ) => variable.isFree( expression ),

    /**
     * How can the matching module mark a given variable as a metavariable?  We
     * leverage the built-in {@link MathConcept#makeIntoA makeIntoA()} function
     * in the {@link MathConcept MathConcept} class.
     * 
     * @memberof Matching
     * @param {Symbol} variable - the variable to mark as a metavariable
     * @see {@link Matching.isMetavariable isMetavariable}
     * @see {@link Matching.clearMetavariable clearMetavariable}
     */
    setMetavariable : variable => variable.makeIntoA( 'metavariable' ),

    /**
     * How can the matching module check whether a given variable has been
     * marked as a metavariable?  We leverage the built-in
     * {@link MathConcept#isA isA()} function in the
     * {@link MathConcept MathConcept} class.
     * 
     * @memberof Matching
     * @param {Symbol} variable - the variable to check for whether it is a
     *   metavariable
     * @see {@link Matching.setMetavariable setMetavariable}
     * @see {@link Matching.clearMetavariable clearMetavariable}
     */
    isMetavariable : variable => variable.isA( 'metavariable' ),

    /**
     * How can the matching module unmark a given variable as a metavariable?
     * We leverage the built-in {@link MathConcept#unmakeIntoA unmakeIntoA()}
     * function in the {@link MathConcept MathConcept} class.
     * 
     * @memberof Matching
     * @param {Symbol} variable - the variable to unmark as a metavariable
     * @see {@link Matching.setMetavariable setMetavariable}
     * @see {@link Matching.isMetavariable isMetavariable}
     */
    clearMetavariable : variable => variable.unmakeIntoA( 'metavariable' )

} )

export const display = matchingData => {
    if ( matchingData instanceof Constraint )
        return ( '(' + matchingData.pattern.toPutdown()
              + ', ' + matchingData.expression.toPutdown() + ')' )
            .replace( / \+\{"_type_metavariable":true\}\n/g, '' )
    if ( matchingData instanceof ConstraintList )
        return '{ ' + matchingData.contents.map( display ).join( ', ' ) + ' }'
    if ( matchingData instanceof Array
      &amp;&amp; matchingData.every( entry => entry instanceof ConstraintList ) )
        return matchingData.length == 0 ? 'No solutions' :
            matchingData.map( ( entry, index ) =>
                `${index}. ${display( entry )}` ).join( '\n' )
    return String( matchingData )
}

export {
    Constraint,
    ConstraintList,
    makeExpressionFunction,
    makeExpressionFunctionApplication,
    MatchingChallenge
}
</code></pre>
    </article>
</section>




  </div>
</main>

<footer class="layout-footer">
  <div class="container">
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.4</a> on Mon Jun 14 2021 22:19:42 GMT+0000 (Coordinated Universal Time)
  </div>
</footer>



<script src="scripts/prism.dev.js"></script>
</body>
</html>
