<!doctype html>
<html lang=en-US>
<head>
	<meta charset=UTF-8>
	<title>LurchMath</title>

  <script type="module">
    import { parse as lurch2putdown } from './lurch-to-putdown.js'
    import { parse as lurch2tex } from './lurch-to-tex.js'
    window.onload = function() {
      const textarea = document.getElementById('source')
      const update = () => {
        const text = textarea.value
        let tex,putdown
        try { 
          const isBlank = /^\s*$/.test(text)
          console.log(`The text input is blank: ${isBlank}`)
          tex = (!isBlank) ? `$${lurch2tex(text)}$` : ''
          putdown = (!isBlank) ? lurch2putdown(text) : ''
          console.log(
            `changing render from ${text} to ${tex} with meaning ${putdown}` )
          const meaningDiv = document.getElementById('meaning')
          meaningDiv.innerHTML = putdown
          const renderDiv = document.getElementById('rendered')
          renderDiv.innerHTML = tex
          try { MathJax.typeset([renderDiv]) } catch (e) { }
        } catch (e) {  } 
      }
      update()
      textarea.addEventListener('input', update)
    }
  </script>
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        processEscapes: true
      }
    };
  </script>
  <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
  </script>
  <link rel="shortcut icon" href="favicon.ico">
	<link href=http://fonts.googleapis.com/css?family=Quicksand
			rel=stylesheet type=text/css>
	<link rel=stylesheet href=lurch-parser-docs.css>
	<meta name=viewport
			content="width=device-width, initial-scale=0.8,
			minimum-scale=0.8, maximum-scale=10">
	</head>
<body>

<div id="wrapper">

<nav>
	<h1>LurchMath</h1>

	<div id="links">
		<a href="#about">about</a>
		<a href="#features">features</a>
		<a href="#examples">examples</a>
	</div>
</nav>

<article>
<section id="about">
	<h2>About</h2>

	<p>LurchMath is an easy-to-write markup language for mathematics.<br/> 
    It extends a proper subset of <a href="https://asciimath.org" target="_blank">AsciiMath</a>, $\LaTeX$, and CAS software in natural ways.<br/>
    It is currently under development, and more features will be added in the future.
  </p>

	<div class="leftColumn">
		<label for="source">Input:</label>
		<br/>

		<textarea class="ioArea" id="source" onchange="()=>{ console.log('changed!');updateRender(this.value) }">Let x be such that x leq 10</textarea>
	</div>

	<div class="rightColumn">
		<label for="rendered">Rendering:</label>
		<br/>

		<div class="ioArea" id="rendered">
		</div>
	</div>

  <div class="fullColumn">
    <label for="meaning">Meaning:</label>
    <br/>
  
    <div class="ioArea" id="meaning">
    </div>
  </div>
</section>

<section id="features">
<h2>Features</h2>

  <p>LurchMath currently supports a small subset of AsciiMath, $\LaTeX$, and notation found in CAS software. Many symbols can be displayed using a TeX command but a preceeding backslash is not required.</p>

  <p>Symbols can be more than one character long and can contain anything except reserved symbols and terms. Multiplication must be explicitly entered with <code>cdot</code> or <code>â‹…</code> as a result, but is rendered as concatenation.</p>

  <p>English phrases such as <code>Given</code> or <code> is a </code> are case sensitive and will produce LaTeX with the same phrase.  For example, <code>Suppose P</code>, <code>Given P</code>, <code>If P</code>, <code>Assume P</code>, <code>assume P</code> are synonyms and all have the same mathematical meaning, but will format as $\text{Suppose P}$, $\text{Given P}$, $\text{If P}$, $\text{Assume P}$ and $\text{assume P}$, respectively.
</section>


<section id="examples"></section>
<h2>Examples</h2>

<table>
    <thead>
    <tr>
    	<th>If you type any of these</th>
      <th>it renders as this</th>
    </tr>
  </thead>
  <tbody>
    ## MAKEDOC OUTPUT GOES HERE ##
  </tbody>
</table>
</section>

</article>
</div>

</body>
</html>
